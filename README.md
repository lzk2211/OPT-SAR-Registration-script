# OPT-SAR Registration Script

This is a script for registering Optical (OPT) and Synthetic Aperture Radar (SAR) images.

## 📁 Directory Structure

1. **Please make sure your files are organized in the following structure before using the script:**

   ```bash
   dataset/
   |
   ├── OPT/     # Folder containing the optical images
   |   ├── tile_0_1024.png
   |   └── tile_0_2048.png
   |
   ├── SAR/     # Folder containing the SAR images
   |   ├── tile_0_1024.png
   |   └── tile_0_2048.png
   |
   ├── Label/   # Output folder for the registration results
   |   ├── tile_0_1024_points.csv
   └── └── tile_0_2048_points.csv
2. **The `csv` file used for registration is automatically generated by a manual labeling script.**

   Before running this script, please ensure that the `Label` folder contains the `.csv` file with manually annotated matching information between OPT and SAR images. This file is essential for the registration process.


## 🚀 How to Run

You have two options to run this script:

### Option 1: Run the Executable

Navigate to the `dist` folder and double-click the `.exe` file to launch the script.

### Option 2: Run the Python Script

1. Make sure your Python environment is set up.
2. Install the required packages by running:

   ```bash
   pip install -r requirements.txt
3. Then run the main script:

   ```bash
    python OS_tool.py
## 🧭 How to Use

1. Open the script (either the `.exe` or `OS_tool.py`).

2. Click “Open Folder” buttons to:

   * Select the `OPT` folder (optical images).

   * Select the `SAR` folder (SAR images).

3. Click “Select Save Directory” to choose the `Label` folder (where results will be saved).

4. Start the registration process by clicking the corresponding button in the interface.

5. **New Feature - Check and Edit Mode:**
   * After starting the registration process, you can enter the Check Mode to review and verify the annotated matching keypoints.
   * In Check Mode, you can:
      * Click the "Next" and "Previous" buttons to navigate through the annotated keypoints pairs.
      * Delete any mismatched or non-ideal keypoint pairs.

6. **New Interactive Features:**
   * **zoom**: You can now zoom in and out of the images using the mouse wheel.
   * **Sync Movement**: Right-click and drag to move both the OPT and SAR images in sync, making it easier to compare and annotate.

7. Sit back and enjoy — the matched results will be saved in the `Label/` folder.

## 🛠 Version History
* **V1** (by **YJW**): Basic labeling functionality for manual annotation.

* **V2**: Improved features for reading and optimizing the registration process.

* **V3** (by **LYL**): Added `Check Mode`, allowing users to review, verify, and delete mismatched keypoints.

* **V4**: Enhanced with `zoom` and `sync movement functionality`, improving both the precision and efficiency of annotation tasks.

Feel free to open an issue if you encounter any problems or have suggestions for improvements.
